define(["jquery","core/ajax","core/notification","core/templates"],function(a,b,c,d){var e=function(a){var c={};"undefined"!=typeof a&&(c.course=a);var d={methodname:"block_leganto_get_reading_lists",args:c};return b.call([d])[0]},f=function(a,b){return a.length>0?d.render("block_leganto/reading-lists",{reading_lists:a}):d.render("block_leganto/no-list",{string:b})},g=function(b,g,h){b=a(b);var i=b.find('[data-region="reading-list-container"]'),j=b.find('[data-region="reading-list-debug"]'),k=e(g);k.then(function(a){d.replaceNodeContents(j,a.debug,"");var b=f(a.lists,h);return b.then(function(a,b){return d.replaceNodeContents(i,a,b)})["catch"](c.exception),k})["catch"](c.exception)};return{init:g}});